<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Server Client</title>
    <script src="/libs/jquery/dist/jquery.js"></script>
    <script src="/libs/socket.io-client/socket.io.js"></script>
    <scirpt src="/libs/notifyjs/dist/notify.js"></scirpt>
    <script src="/client.js"></script>
</head>
<body>
Here goes the chat FRAME...

<input type="text" id="text">

<div id="logger">

</div>
<script type="text/javascript">
    // add listener on Enter key to send message (emit whatever)
    /**
     * Como va funcionar esto?
     * @param socket
     */
    var notify = function (socket) {
        // console.log()
        socket.emit('message', $('#text').val());
        // client the txt clean
        $('#text').val('');
        $('#text').focus();
    };
    var socket = io();

    socket.on('onmessage', function () {
        console.log("got a new message");
        $.notify("Got a new message");
        // run refresh
    });

    $('#text').on('keyup', function (e) {
        if (e.keyCode === 13) {
            notify(socket);
        }
    });
    // set default focus to the text area.
    $('#text').focus();
</script>


</body>
</html>