<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Server Client</title>
    <script src="/libs/jquery/dist/jquery.js"></script>
    <script src="/libs/socket.io-client/socket.io.js"></script>
    <scirpt src="/libs/notifyjs/dist/notify.js"></scirpt>
    <script src="/client.js"></script>
</head>
<body>
Here goes the chat FRAME...
<form id="message">
    <input type="text" id="text">
</form>
<div id="logger">

</div>
<script type="text/javascript">
    // add listener on Enter key to send message (emit whatever)

    var notify = function () {
        // console.log()

        socket.emit('message', $('#text').val());
        // client the txt clean
        $('#text').val('');


    };
    var socket = io();

    socket.on('onmessage', function () {
        console.log("got a new message");
        $.notify("Got a new message");
        // run refresh
    });

    $('#text').on('keyup', function (e) {
        if (e.keyCode === 13) {
            notify(socket);
        }
    });

</script>


</body>
</html>