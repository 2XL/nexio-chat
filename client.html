<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Server Client</title>
    <script src="/libs/jquery/dist/jquery.js"></script>
    <script src="/libs/socket.io-client/socket.io.js"></script>
    <scirpt src="/libs/notifyjs/dist/notify.js"></scirpt>
    <script src="/client.js"></script>
</head>
<body>

<input type="text" id="currentRoom"></div>
<input type="text" id="room" placeholder="write room to Join or Notify">
<button type="button" id="joinBtn">Join</button>
<button type="button" id="notifyBtn">Notify</button>
<div id="logger">

</div>
<script type="text/javascript">
    var options = getSearchParameters();
    options['url'] = 'http://localhost:8080';
    options['incidents'] = [1, 2, 3, 4];
    options['callback'] = function (incident) {
        alert("onmessage: " + incident);
        // code to be executed when an onmessage event is called
        // incident is notified
    };
    var chat = new nexioChat(options); // create a new socket

    $('#currentRoom').val(chat.room);
    $('#joinBtn').click(function () {
        chat.room = $('#joinRoom').val();
        // current room value
        $('#currentRoom').val(chat.room);
        chat.join(chat.room);
    })
    $('#notifyBtn').click(function () {
        chat.room = $('#joinRoom').val();
        // current room value
        chat.notify(chat.room);
    })

</script>


</body>
</html>